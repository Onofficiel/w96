//!wrt $BSPEC:{"icn":"apps/blocks","cpr":"Copyright (C) Onofficiel 2024.","dsc":"Minecraft Java Edition 1.8.8 ported using EaglerCraft","frn":"Minecraft","aut":"Onofficiel | Mojang | EaglerCraft Team","ver":1,"ssy":"gui"} 

const{Theme:Theme}=w96.ui;class Minecraft extends WApplication{constructor(){super()}async main(t){super.main(t);const e=t[1]?`/_/${t[1].replace(":","")}`:"/_/C/local/minecraft/eagler.html",i=this.createWindow({title:"Minecraft",taskbar:!0,resizable:!0,initialHeight:480,initialWidth:640,icon:await Theme.getIconUrl("apps/blocks","16x16"),iframeFix:!1},!0),n=i.getBodyContainer(),a=document.createElement("iframe");Object.assign(a.style,{width:"100%",height:"100%",border:"none"}),a.addEventListener("load",(()=>{const t=a.contentWindow;function e(){t.focus()}t.HTMLInputElement.prototype.click=async function(){const t=await new Promise((async t=>{new w96.ui.OpenFileDialog("C:/user",[""],(async e=>{if(!e)return t(null);const i=await FS.toBlob(e),n=new File([i],FSUtil.fname(e),{type:i.type});return t(n)})).show()}));if(!t)return;const e=new Event("change",{}),i=new DataTransfer;i.items.add(t),this.files=i.files,Object.defineProperty(e,"target",{writable:!1,value:this}),this.dispatchEvent(e)},t.HTMLAnchorElement.prototype.click=async function(){if(this.download){let e=new Uint8Array([]);if(this.href.startsWith("blob:")||this.href.startsWith("data:")||this.href.startsWith("http:")||this.href.startsWith("https:")){const t=await fetch(this.href).then((t=>t.blob()));e=new Uint8Array(await t.arrayBuffer())}const i=await(t=FSUtil.getExtension(this.download),new Promise((async e=>{new w96.ui.SaveFileDialog("C:/user",[t],(async t=>{e(t)})).show()})));if(!i)return;const n=FSUtil.getParentPath(i);await FS.exists(n)||await FS.mkdir(n),await FS.writebin(i,e)}else w96.urlopen(this.href);var t},t.alert=alert,t.open=t=>{const e=this.createWindow({title:"Minecraft",initialHeight:300,initialWidth:400}),i=e.getBodyContainer(),n=document.createElement("iframe");for(i.appendChild(n),n.src=t;null===n.contentDocument;);Object.assign(n.style,{width:"100%",height:"100%",border:"none"});const a=n.contentWindow;return a.close=()=>e.close(),e.show(),a},t.addEventListener("blur",(()=>{t.addEventListener("click",e)})),t.addEventListener("focus",(()=>{t.removeEventListener("click",e)})),t.addEventListener("click",e),e()})),n.appendChild(a),i.show(),a.src=e}}

return await WApplication.execAsync(new Minecraft(), this.boxedEnv.args, this);